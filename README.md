# osn-telegraf

This role installs telegraf for OSN pods. The role also installs ipmitool and sets a udev rule to allow the telegraf user access to /dev/ipmi* 

Example group_vars files for a site:

telegraf_site_name: sdsc  
influxdb_local_ip: 172.16.2.12  
influxdb_db: osn  
influxdb_username: osn  
influxdb_password: !vault |  
          $ANSIBLE_VAULT;1.1;AES256  
          38356163663239376231336263316535643461356665653862613230313632646466633233303931  
          3965653930303064643263613162393635663231373262320a326234343436653332386531656239  
          30656531343237306531306634306432336263656332366131663130303666613434623263313330  
          6633393239643662310a306636613032323163303335306564623531373531393635656665383636  
          3936  
          
#&#x2060;# If influxdb_remote_ip != None (i.e. it's not blank), telegraf's config will use the  
#&#x2060;# following variables to output metrics to a second database.  

influxdb_remote_ip:  
influxdb_remote_db: osn  
influxdb_remote_username: osn  
influxdb_remote_password: !vault |  
          $ANSIBLE_VAULT;1.1;AES256  
          38356163663239376231336263316535643461356665653862613230313632646466633233303931  
          3965653930303064643263613162393635663231373262320a326234343436653332386531656239  
          30656531343237306531306634306432336263656332366131663130303666613434623263313330  
          6633393239643662310a306636613032323163303335306564623531373531393635656665383636  
          3936  
